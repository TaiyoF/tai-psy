---
layout: post
title: "Rの演算子について"
date: 2024-12-21 02:58:51 +0900
categories: [r]
tags: [R, 演算子]
slug: "2"
---

今回はRで使用する演算子について整理します。

### 演算子とは

演算子とは、計算や処理を表現するための記号のことです。

### 演算子の種類

Rで使用される演算子には、算術・比較・論理・代入・その他に区分されます。

#### 算術演算子

算術演算子とは、四則演算などの数値計算を行うための演算子のことです。

| 演算子 | 説明 |
|:------:|------|
| `+` | 加算 |
| `-` | 減算 |
| `*` | 乗算 |
| `/` | 除算 |
| `^` | べき乗 |
| `%%` | 整数除算（剰余） |
| `%/%` | 整数除算（商） |

#### 比較演算子

比較演算子とは、2つの値を比較しその結果を論理値として返す演算子です。

| 演算子 | 説明 |
|:------:|------|
| `==` | 等しい |
| `!=` | 等しくない |
| `<` | より小さい |
| `>` | より大きい |
| `<=` | 以下 |
| `>=` | 以上 |

#### 論理演算子

論理演算子とは、論理値を操作して新しい論理値を生成する演算子です。

| 演算子 | 説明 |
|:------:|------|
| `&` | 要素ごとの論理積（`AND`） |
| `&&` | 論理積（`AND`）：最初の要素のみ評価 |
| `\|` | 要素ごとの論理和（`OR`） |
| `\|\|` | 論理和（`OR`）：最初の要素のみ評価 |
| `!` | 論理否定（`NOT`） |

#### 代入演算子

代入演算子は、値やオブジェクトに変数を割り当てるために使用する演算子です。

| 演算子 | 説明 |
|:------:|------|
| `<-` | 左代入 |
| `->` | 右代入 |
| `=` | 左代入 |
| `<<-` | グローバル代入 |
| `->>` | グローバル右代入 |

##### 代入演算子の特徴

- `` `=` ``は関数の引数指定にも使用されるため，`<-`の方が推奨されます。
- `` `<<-` ``はグローバル環境に直接代入するための演算子です。

#### その他の演算子

| 演算子 | 説明 |
|:------:|------|
| `%*%` | 内積・行列の積 |
| `%in%` | 外積 |
| `%o%` | クロネッカー積 |
| `%x%` | ベクトル内の要素の存在確認 |
| `%>%` | パイプ演算子（magrittr） |
| `\|>` | パイプ演算子（R 4.1以降） |
| `%<>%` | 代入機能付きパイプ演算子 |
| `%T>%` | Tee演算子（左側の値を返す） |
| `:` | シーケンスを生成 |
| `**::**` | 公開オブジェクトにアクセス |
| `:::` | 非公開オブジェクトにアクセス |
| `$` | リストやデータフレームの要素にアクセス |
| `@` | S4クラスオブジェクトのスロットにアクセス |
| `[]` | 複数の要素を、元と同じ型で抽出 |
| `[[]]` | 単一の要素のみを抽出 |
| `-` | 符号を逆転 |
| `~` | モデル式を作成 |

### 演算子の優先順位

Rにおける演算子の優先順位は以下の通りです。

1. `::` `:::`　名前空間へのアクセス
2. `$` `@`　要素へのアクセス
3. `[` `[[`　インデックス演算子
4. `^`　べき乗
5. `-` `+`　単項演算子
6. `:`　シーケンス演算子
7. `%any%` `|>`　特殊演算子
8. `*` `/`　乗除演算子
9. `+` `-`　加減演算子
10. `<` `>` `<=` `>=` `==` `!=`　比較演算子（大小・同値関係）
11. `!`　論理演算子（NOT）
12. `&` `&&`　論理演算子（AND）
13. `|` `||`　論理演算子（OR）
14. `~`　チルダ演算子
15. `->` `->>`　代入演算子（右代入）
16. `<-` `<<-`　代入演算子（左代入）
17. `=`　代入演算子（左代入）

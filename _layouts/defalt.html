<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title | escape }} - {{ site.title | escape }}</title>
    <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 160 | escape }}">
    {% if page.robots %}<meta name="robots" content="{{ page.robots }}">{% endif %}
    <link rel="canonical" href="{{ page.url | absolute_url }}">
    <!-- OGP / Twitter -->
    <meta property="og:title" content="{{ page.title | default: site.title | escape }}">
    <meta property="og:description" content="{{ page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 160 | escape }}">
    <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
    <meta property="og:url" content="{{ page.url | absolute_url }}">
    {% if site.og_image %}<meta property="og:image" content="{{ site.og_image | absolute_url }}">{% endif %}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ page.title | default: site.title | escape }}">
    <meta name="twitter:description" content="{{ page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 160 | escape }}">
    {% if site.og_image %}<meta name="twitter:image" content="{{ site.og_image | absolute_url }}">{% endif %}

    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <a class="skip-link" href="#content">本文へスキップ</a>
    {% include header.html %}
    <main id="content">
        {% if page.layout != 'post' and page.hide_breadcrumbs != true %}
        {% include breadcrumbs.html %}
        {% endif %}
        {{ content }}
    </main>
    {% include footer.html %}

    {% if page.layout == 'post' %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": {{ page.title | jsonify }},
      "datePublished": "{{ page.date | date_to_xmlschema }}",
      "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
      "author": { "@type": "Person", "name": {{ site.title | jsonify }} },
      "url": "{{ page.url | absolute_url }}",
      "description": {{ page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 160 | jsonify }}
    }
    </script>
    {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
</body>
</html>